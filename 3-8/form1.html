<!-- validation using onblur and onsubmit event at the same time-->
<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Form</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
</head>
<body>

    <input type="button" onclick="window.history.go(-2)" value="GO back Twice">
    <form name="frm" id="frm" method="post">
        <label>Username</label><input type="text" id="uname" name="uname" onblur="checkname()">
        <span id="msg"></span>
        <br>
        <label>Email</label><input type="text" id="email" name="email" onblur="checkemail()">
        <span id="msg1"></span>
        <br>
        <input type="submit" id="submit" value="Login"> 
        <!-- <input type="reset" id="reset" value="Cancel">  -->
        <input type="button" id="reset" value="Cancel"> 
    </form>
    <script>
        var nameerror=false
          var emailerror=false
        function checkname(){
            var exp =/^([a-zA-Z]+)\s([a-zA-Z]+)$/
            var username=document.getElementById("uname").value;
                // var username=document.form["frm"]["uname"].value
            if(username.length==0){
                document.getElementById("msg").innerHTML="Username is required"
                document.getElementById("msg").style.color="red"
                nameerror=true
            }
            else if(!username.match(exp)){
                document.getElementById("msg").innerHTML="Username can contain alphabets only"
                document.getElementById("msg").style.color="red"
                nameerror=true
            }
            else{
                document.getElementById("msg").innerHTML=" "
                nameerror=false
          }
        }

        function checkemail(){
            var email=document.getElementById("email").value;
            var pattern = /^([a-zA-Z0-9_\#\.\*\-]+)@([a-zA-Z]+).([a-zA-Z]{2,3})$/
            if(email.length==0){  //abc_123@gmail.com
                document.getElementById("msg1").innerHTML="email is required"
                document.getElementById("msg1").style.color="red"
                emailerror=true
            }
            else if(!pattern.test(email)){
                document.getElementById("msg1").innerHTML="Invalid Email"
                document.getElementById("msg1").style.color="red"
                emailerror=true
            }
            else{
                document.getElementById("msg1").innerHTML=" "
                emailerror=false
           }
        }

        document.body.onsubmit=function(e){
            checkemail();checkname();
            if(nameerror ==false && emailerror==false)
              {
                document.write("Username= " +document.getElementById("uname").value +" "
                +"Email= "+document.getElementById("email").value)
                document.write("Form submitted successfully"+"<BR>")
                return true;
            }
            else
                 console.log(e)
                e.preventDefault();
        }


            document.getElementById("reset").onclick=function(){
                document.getElementById("uname").value=''
                document.getElementById('email').value=''
            }
       </script>
</body>
</html>